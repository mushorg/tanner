#!/usr/bin/python3.5
import argparse
import os
import tanner
from tanner.config import TannerConfig
from tanner import server
from tanner.utils import logger


def main():
    print("""
      _________    _   ___   ____________
     /_  __/   |  / | / / | / / ____/ __ \\
      / / / /| | /  |/ /  |/ / __/ / /_/ /
     / / / ___ |/ /|  / /|  / /___/ _, _/
    /_/ /_/  |_/_/ |_/_/ |_/_____/_/ |_|

    """)
    parser = argparse.ArgumentParser()
    parser.add_argument("--config", help="tanner config")
    args = parser.parse_args()
    if args.config:
        TannerConfig.set_config(args.config)
    log_file_name = TannerConfig.get("LOGGER", "log_file")
    logger.Logger.create_logger(log_file_name, __package__)
    print("App logs will be stored in", log_file_name)
    if TannerConfig.get('LOCALLOG', 'enabled') == 'True':
        print("Data logs will be stored in", TannerConfig.get('LOCALLOG', 'PATH'))
    tanner.server.run_server()


if __name__ == "__main__":
    main()
